{% extends "errors/base.html" %}

{% block title %}Accès refusé - Famille KANYAMUKENGE{% endblock %}

{% block error_icon %}
<div class="mx-auto w-24 h-24 bg-red-100 rounded-full flex items-center justify-center mb-6">
    <i data-feather="shield-off" class="w-12 h-12 text-red-600"></i>
</div>
{% endblock %}

{% block action_buttons %}
{% if not user.is_authenticated %}
<a href="/accounts/login/" class="pulse-button group bg-brand-primary text-white px-8 py-4 rounded-full font-medium hover:bg-green-800 transition shadow-lg w-full md:w-auto inline-flex items-center justify-center gap-2">
    <i data-feather="log-in" class="w-5 h-5 transition-transform group-hover:scale-110"></i>
    Se connecter
</a>
{% else %}
<!-- <a href="/dashboard/" class="pulse-button group bg-brand-primary text-white px-8 py-4 rounded-full font-medium hover:bg-green-800 transition shadow-lg w-full md:w-auto inline-flex items-center justify-center gap-2">
    <i data-feather="layout" class="w-5 h-5 transition-transform group-hover:scale-110"></i>
    Tableau de bord
</a> -->
{% endif %}

<a href="/" class="pulse-button group bg-gray-600 text-white px-8 py-4 rounded-full font-medium hover:bg-gray-700 transition shadow-lg w-full md:w-auto inline-flex items-center justify-center gap-2">
    <i data-feather="home" class="w-5 h-5 transition-transform group-hover:scale-110"></i>
    Retour à l'accueil
</a>

<!-- <a href="mailto:admin@kanyamukenge.family" class="pulse-button group bg-brand-accent text-white px-8 py-4 rounded-full font-medium hover:bg-amber-800 transition shadow-lg w-full md:w-auto inline-flex items-center justify-center gap-2">
    <i data-feather="mail" class="w-5 h-5 transition-transform group-hover:scale-110"></i>
    Contacter l'admin
</a> -->
{% endblock %}

{% block extra_scripts %}
{{ block.super }}
<script>
// Track permission denied errors
console.log('403 Error tracked:', {
    path: '{{ request_path|escapejs }}',
    timestamp: new Date().toISOString(),
    user: '{{ user.username|default:"anonymous"|escapejs }}',
    authenticated: {{ user.is_authenticated|yesno:"true,false" }}
});
</script>
{% endblock %}